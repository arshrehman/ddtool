{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}



{% block title %}
ECSA
{% endblock %}

{% block content %}


<div class="container" style="margin-top:20px;">

                {% with messages = get_flashed_messages() %}
                {% if messages %}

                {% for message in messages %}
                <div class="alert alert-warning alert-dismissible fade show text-center" role="alert" style="padding-top:20px;">
                    <strong>{{ message }}</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}

                {% endif %}
                {% endwith %}

</div>


<div class="container text-center" style="background-color:#0f678a; height:50px; padding:5px; margin-bottom:5px">
    <span><p>Enter customer details for {{current_user.bankname}} application</p></span>
</div>

<div class="container" style="background-color:#f5f5f5;">
<form method="POST" action=/insert>
    {{ form.hidden_tag() }}
        <div class="form-floating mb-3">
            {{form.customer_name(class="form-control", placeholder="Please enter customer name")}}
            {{ form.customer_name.label()}}
            <ul class="erros">
              {% for error in form.customer_name.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>

        <div class="form-floating mb-3">
            {{form.mobile(class="form-control", placeholder="It must have 10 digits and start with 05")}}
            {{ form.mobile.label()}}
            <ul class="erros">
              {% for error in form.mobile.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>


    <div class="form-floating mb-3">
            {{form.customer_email(class="form-control", placeholder="Enter a valid email")}}
            {{ form.customer_email.label()}}
            <ul class="erros">
              {% for error in form.customer_email.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating">
            {{form.gender(class="form-select")}}
            {{ form.gender.label()}}
            <ul class="erros">
              {% for error in form.gender.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>


    <div class="form-floating">
            {{form.nationality(class="form-select")}}
            {{ form.nationality.label()}}
            <ul class="erros">
              {% for error in form.nationality.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>


    <div class="form-floating mb-3">
            {{form.salary(class="form-control", placeholder="Values must be equal or more than 5k")}}
            {{ form.salary.label()}}
            <ul class="erros">
              {% for error in form.salary.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating mb-3">
            {{form.company(class="form-control", placeholder="Enter company name")}}
            {{ form.company.label()}}
            <ul class="erros">
              {% for error in form.company.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating mb-3">
            {{form.designation(class="form-control", placeholder="Designation")}}
            {{ form.designation.label()}}
            <ul class="erros">
              {% for error in form.designation.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating">
            {{form.ale_status(class="form-select")}}
            {{ form.ale_status.label()}}
            <ul class="erros">
              {% for error in form.ale_status.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating">
            {{form.office_emirates(class="form-select")}}
            {{ form.office_emirates.label()}}
            <ul class="erros">
              {% for error in form.office_emirates.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating mb-3">
            {{form.length_of_residence(class="form-control",placeholder="Landline(HR)")}}
            {{ form.length_of_residence.label()}}
            <ul class="erros">
              {% for error in form.length_of_residence.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating mb-3">
            {{form.length_of_service(class="form-control", placeholder="LOS in months")}}
            {{ form.length_of_service.label()}}
            <ul class="erros">
              {% for error in form.length_of_service.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating">
            {{form.dob(class="form-control")}}
            {{ form.dob.label()}}
            <ul class="erros">
              {% for error in form.dob.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating mb-3">
            {{form.emirates_id(class="form-control", placeholder="emirates-id")}}
            {{ form.emirates_id.label()}}
            <ul class="erros">
              {% for error in form.emirates_id.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating">
            {{form.EID_expiry_date(class="form-select")}}
            {{ form.EID_expiry_date.label()}}
            <ul class="erros">
              {% for error in form.EID_expiry_date.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating mb-3">
            {{form.passport_number(class="form-control", placeholder="Passport Number")}}
            {{ form.passport_number.label()}}
            <ul class="erros">
              {% for error in form.passport_number.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating">
            {{form.passport_expiry(class="form-select")}}
            {{ form.passport_expiry.label()}}
            <ul class="erros">
              {% for error in form.passport_expiry.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating mb-3">
            {{form.cheque_number(class="form-control", placeholder="ChequeNumber")}}
            {{ form.cheque_number.label()}}
            <ul class="erros">
              {% for error in form.cheque_number.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating">
            {{form.bankingwith(class="form-select")}}
            {{ form.bankingwith.label()}}
            <ul class="erros">
              {% for error in form.bankingwith.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
    </div>

    <div class="form-floating mb-3">
            {{form.iban(class="form-control", placeholder="IBAN")}}
            {{ form.iban.label()}}
            <ul class="erros">
              {% for error in form.iban.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>

        <div class="form-floating">
            {{form.visa_expiry_date(class="form-select")}}
            {{ form.visa_expiry_date.label()}}
            <ul class="erros">
              {% for error in form.visa_expiry_date.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>

        <div class="form-floating">
            {{form.product_type(class="form-select")}}
            {{ form.product_type.label()}}
            <ul class="erros">
              {% for error in form.product_type.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>

        <div class="form-floating">
            {{form.product_name(class="form-select")}}
            {{ form.product_name.label()}}
            <ul class="erros">
              {% for error in form.product_name.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>

        <div class="form-floating mb-3">
            {{form.bank_reference(class="form-control",placeholder="BankReference")}}
            {{ form.bank_reference.label()}}
            <ul class="erros">
              {% for error in form.bank_reference.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>

        <div class="form-floating">
            {{form.bank_status(class="form-select")}}
            {{ form.bank_status.label()}}
            <ul class="erros">
              {% for error in form.bank_status.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>

        <div class="form-floating">
            {{form.application_type(class="form-select")}}
            {{ form.application_type.label()}}
            <ul class="erros">
              {% for error in form.application_type.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>

        <div class="form-floating">
            {{form.submissiondate(class="form-select")}}
            {{ form.submissiondate.label()}}
            <ul class="erros">
              {% for error in form.submissiondate.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
          </div>
          
          <div class="form-floating">
            {{form.supplementary_card(class="form-select")}}
            {{ form.supplementary_card.label()}}
            <ul class="erros">
              {% for error in form.supplementary_card.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
          </div>

            
          <div class="form-floating">
            {% if user.userlevel in ["2","3","4","5"] %}
            {{form.cpv(class="form-select")}}
              {{ form.cpv.label()}}
            <ul class="erros">
              {% for error in form.cpv.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
              {% endif %}
          </div>



            {% if user.userlevel in ["2","3","4","5"] %}
            <div class="form-floating">
            {{form.bookingdate(class="form-select")}}
            {{ form.bookingdate.label()}}
            <ul class="erros">
              {% for error in form.bookingdate.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
          </div>
            {% endif %}

        <div class="form-floating mb-3">
            {{form.remarks(class="form-control", placeholder="Remarks")}}
            {{ form.remarks.label()}}
            <ul class="erros">
              {% for error in form.remarks.errors %}
                  <li>{{error}}</li>
              {% endfor %}
            </ul>
        </div>



       <div class="container text-center" style="padding-bottom:10px">
            {{form.submit(class="btn btn-success btn-lg btn-block")}}
       </div>
      </form>
</div>
{% endblock %}
